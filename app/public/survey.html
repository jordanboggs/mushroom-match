<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/materialize.css">
  <link rel="stylesheet" href="css/style.css">
  <title>Mushroom Match</title>
</head>
<body>
  <main class="container">
    <article class="col l8 offset-4 z-depth-2 survey">
      <h1><a class="icon-link" href="/"><i class="far fa-heart icon-link--no-hover"></i><i class="fas fa-heart icon-link--hover"></i></a> Mushroom Match Survey</h1>
      <div class="divider survey__divider"></div>
      <form>
        <div class="row">
            <div class="input-field col s12 m9 l8 xl6">
              <p class="quiz-q">I prefer hot climates to cold ones.</p>
              <select id="climates">
                <option value="" disabled selected>Choose an option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">I often find myself in situations I can't get out of.</p>
            <select id="situations">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">I feel most at home in a castle.</p>
            <select id="castle">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">I often play sports with people I call my friends.</p>
            <select id="sports">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">I come from Italy, probably.</p>
            <select id="italy">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">If there's a scheme, I'm in on it.</p>
            <select id="scheme">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">I consider myself high-class and fancy.</p>
            <select id="fancy">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">I am talkative with a lot to say.</p>
            <select id="talk">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">I'd rather play a supportive role than lead the way.</p>
            <select id="role">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m9 l8 xl6">
            <p class="quiz-q">Waaaaaaaaaaaah!</p>
            <select id="wah">
              <option value="" disabled selected>Choose an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <button type="submit" class="waves-effect waves-light btn submit">Get results</button>
        </div>
      </form>
    </article>
  </main>
  <footer class="page-footer">
    <div class="footer-copyright">
      <div class="container">
        <span class="right">
          <a class="grey-text text-lighten-5" href="/api/friends">API Friends List</a>&nbsp;&nbsp;&nbsp;&nbsp; 
          <a class="grey-text text-lighten-5" href="https://github.com/preaksneview/friend-finder-hw" target="_blank">GitHub Repo</a>
        </span>
      </div>
    </div>
  </footer>
  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script src="js/materialize.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
  <script>
    $(document).ready(function() {
      $('select').material_select();

      $(".submit").on("click", function(event) {
        event.preventDefault();

        const answers = {
          "quiz": [
            parseInt($("#climates").val()),
            parseInt($("#situations").val()),
            parseInt($("#castle").val()),
            parseInt($("#sports").val()),
            parseInt($("#italy").val()),
            parseInt($('#scheme').val()),
            parseInt($('#fancy').val()),
            parseInt($('#talk').val()),
            parseInt($('#role').val()),
            parseInt($('#wah').val())
          ]
        };
        console.log(answers);
        $.post("api/new", answers, function(res) {
          console.log(res);
        }, "json");
      });
    });
  </script>
</body>
</html>